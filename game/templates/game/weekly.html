{% extends "game/base.html" %} {% block content %}
<div class="weeklySection">
  <p class="title">Week {{week}} Forecast</p>
  <div class="divRow">
    <div class="column weatherRow">
      <h1 class="date">{{weather.0.day|linebreaksbr}}</h1>
      <div class="column weatherBox">
        <div class="column">
          <div class="weatherItem">
            <p class="redItem bolded">High:</p>
            <p class="redItem bolded">{{weather.0.tHigh|floatformat:1}}&deg;F</p>
          </div>
          <div class="weatherItem">
            <p class="blueItem bolded">Low:</p>
            <p class="blueItem bolded">{{weather.0.tLow|floatformat:1}}&deg;F</p>
          </div>
        </div>
        <p class="weatherItem italic">
          Rain: {{weather.0.pRain|floatformat:1}} in.
        </p>
      </div>
    </div>

    <div class="column weatherRow">
      <h1 class="date">{{weather.1.day|linebreaksbr}}</h1>
      <div class="column weatherBox">
        <div class="column">
          <div class="weatherItem">
            <p class="redItem bolded">High:</p>
            <p class="redItem bolded">{{weather.1.tHigh|floatformat:1}}&deg;F</p>
          </div>
          <div class="weatherItem">
            <p class="blueItem bolded">Low:</p>
            <p class="blueItem bolded">{{weather.1.tLow|floatformat:1}}&deg;F</p>
          </div>
        </div>
        <p class="weatherItem italic">
          Rain: {{weather.1.pRain|floatformat:1}} in.
        </p>
      </div>
    </div>

    <div class="column weatherRow">
      <h1 class="date">{{weather.2.day|linebreaksbr}}</h1>
      <div class="column weatherBox">
        <div class="column">
          <div class="weatherItem">
            <p class="redItem bolded">High:</p>
            <p class="redItem bolded">{{weather.2.tHigh|floatformat:1}}&deg;F</p>
          </div>
          <div class="weatherItem">
            <p class="blueItem bolded">Low:</p>
            <p class="blueItem bolded">{{weather.2.tLow|floatformat:1}}&deg;F</p>
          </div>
        </div>
        <p class="weatherItem italic">
          Rain: {{weather.2.pRain|floatformat:1}} in.
        </p>
      </div>
    </div>

    <div class="column weatherRow">
      <h1 class="date">{{weather.3.day|linebreaksbr}}</h1>
      <div class="column weatherBox">
        <div class="column">
          <div class="weatherItem">
            <p class="redItem bolded">High:</p>
            <p class="redItem bolded">{{weather.3.tHigh|floatformat:1}}&deg;F</p>
          </div>
          <div class="weatherItem">
            <p class="blueItem bolded">Low:</p>
            <p class="blueItem bolded">{{weather.3.tLow|floatformat:1}}&deg;F</p>
          </div>
        </div>
        <p class="weatherItem italic">
          Rain: {{weather.3.pRain|floatformat:1}} in.
        </p>
      </div>
    </div>

    <div class="column weatherRow">
      <h1 class="date">{{weather.4.day|linebreaksbr}}</h1>
      <div class="column weatherBox">
        <div class="column">
          <div class="weatherItem">
            <p class="redItem bolded">High:</p>
            <p class="redItem bolded">{{weather.4.tHigh|floatformat:1}}&deg;F</p>
          </div>
          <div class="weatherItem">
            <p class="blueItem bolded">Low:</p>
            <p class="blueItem bolded">{{weather.4.tLow|floatformat:1}}&deg;F</p>
          </div>
        </div>
        <p class="weatherItem italic">
          Rain: {{weather.4.pRain|floatformat:1}} in.
        </p>
      </div>
    </div>

    <div class="column weatherRow">
      <h1 class="date">{{weather.5.day|linebreaksbr}}</h1>
      <div class="column weatherBox">
        <div class="column">
          <div class="weatherItem">
            <p class="redItem bolded">High:</p>
            <p class="redItem bolded">{{weather.5.tHigh|floatformat:1}}&deg;F</p>
          </div>
          <div class="weatherItem">
            <p class="blueItem bolded">Low:</p>
            <p class="blueItem bolded">{{weather.5.tLow|floatformat:1}}&deg;F</p>
          </div>
        </div>
        <p class="weatherItem italic">
          Rain: {{weather.5.pRain|floatformat:1}} in.
        </p>
      </div>
    </div>

    <div class="column weatherRow">
      <h1 class="date">{{weather.6.day|linebreaksbr}}</h1>
      <div class="column weatherBox">
        <div class="column">
          <div class="weatherItem">
            <p class="redItem bolded">High:</p>
            <p class="redItem bolded">{{weather.6.tHigh|floatformat:1}}&deg;F</p>
          </div>
          <div class="weatherItem">
            <p class="blueItem bolded">Low:</p>
            <p class="blueItem bolded">{{weather.6.tLow|floatformat:1}}&deg;F</p>
          </div>
        </div>
        <p class="weatherItem italic">
          Rain: {{weather.6.pRain|floatformat:1}} in.
        </p>
      </div>
    </div>
  </div>
  {% if week > 1 %}
  <div class="infoContainer">
    <table class="history">
      <tr>
        <th class="historyLabel"></th>
        <th class="historyData underline">Past Week</th>
        <th class="historyData underline">Total</th>
      </tr>
      <tr class="tableRow">
        <th class="historyLabel">Rainfall</th>
        <th class="historyData">{{weekly_rain|floatformat:2}} in.</th>
        <th class="historyData">{{total_rain|floatformat:2}} in.</th>
      </tr>
      <tr>
        <th class="historyLabel">Evapotranspiration</th>
        <th class="historyData">{{weekly_et|floatformat:2}} in.</th>
        <th class="historyData">{{total_et|floatformat:2}} in.</th>
      </tr>
      <tr>
        <th class="historyLabel">Irrigation</th>
        <th class="historyData">{{weekly_irr|floatformat:2}} in.</th>
        <th class="historyData">{{total_irr|floatformat:2}} in.</th>
      </tr>
      <tr>
        <th class="historyLabel">Fertilizer</th>
        <th class="historyData">{{weekly_fert|floatformat:0}} lbs.</th>
        <th class="historyData">{{total_fert|floatformat:0}} lbs.</th>
      </tr>
    </table>

    <table class="costTable">
      <tr class="costRow">
        <th class="costLabel">Total Irrigation Costs:</th>
        <th class="costData">${{irr_cost|floatformat:2}}</th>
      </tr>
      <tr class="costRow">
        <th class="costLabel">Total Fertilizer Costs:</th>
        <th class="costData">${{fert_cost|floatformat:2}}</th>
      </tr>
      <tr class="costRow">
        <th class="costLabel">Other Costs:</th>
        <th class="costData">${{other_costs|floatformat:2}}</th>
      </tr>
      <tr class="costRow">
        <th class="costLabel bold">Total Costs:</th>
        <th class="costData bold">${{total_cost|floatformat:2}}</th>
      </tr>
      <tr class="costRow">
        <th class="costLabel italic">Cost Per Bushel:</th>
        <th class="costData italic">${{bushel_cost|floatformat:2}}</th>
      </tr>
    </table>
  </div>
  {% endif %}

  <form action="" method="post" class="formRow">
    <div class="subRow">
      <div class="inputRow">
        <p class="irrigationLabel underline">Monday Irrigation:</p>
        <p class="irrigationField">{{iform.monday}} in.</p>
      </div>

      <div class="inputRow">
        <p class="irrigationLabel underline">Thursday Irrigation:</p>
        <p class="irrigationField">{{iform.thursday}} in.</p>
      </div>

      {% csrf_token %} {% if week == 1 or week == 6 or week == 9 or week == 10 or week == 12 or week == 14 or week == 15 %}
      <div class="inputRow">
        <p class="irrigationLabel underline">Week {{week}} Fertilizer:</p>
        <p class="irrigationField">{{fform.fertilizer}} lbs</p>
      </div>
      {% endif %}
    </div>

    <input type="submit" value="Continue" class="continueButton" />
  </form>
  {% if week > 1 %}
  <hr />
  <div class="graphContainer">
    <p class="title">Graphs</p>
    <div class="graphs">
      <div>{{ aquaspy_graph | safe }}</div>
      <div>{{ water_layer_graph | safe }}</div>
      <div>{{ root_depth_graph | safe }}</div>
      <div>{{ growth_stage_graph | safe }}</div>
      <div>{{ nitrogen_stress_graph | safe }}</div>
    </div>
    <!-- <div class="weatherContainer">
      <p class="title">WEATHER HISTORY</p>
      <table class="weatherHistory">
        <tr>
          <th>Day</th>
          <th>High</th>
          <th>Low</th>
          <th>Rain</th>
          <th>&nbsp;&nbsp;&nbsp;</th>
          <th>Forecasted High</th>
          <th>Forecasted Low</th>
          <th>Forecasted Rain</th>
        </tr>
        {% for day in weather_history %}
        <tr>
          <td>{{ day.day }}</td>
          <td>{{ day.high }}</td>
          <td>{{ day.low }}</td>
          <td>{{ day.rain}}</td>
          <td></td>
          <td>{{ day.forecast_high }}</td>
          <td>{{ day.forecast_low }}</td>
          <td>{{ day.forecast_rain }}</td>
        </tr>
        {% endfor %}
      </table>
    </div> -->
  </div>
  {% endif %}
</div>
{% endblock %}
